{"version":3,"sources":["redux/actionTypes.js","utils/Common.js","redux/actions.js","utils/history.js","components/Login.js","utils/PrivateRoute.js","components/CreateStory.js","components/StoryList.js","components/Story.js","App.js","reportWebVitals.js","redux/initialState.js","redux/store.js","redux/reducers.js","index.js"],"names":["SET_LOGIN_STATE","SET_ROLE_STATE","CREATE_STORY","LOGOUT","GET_STORIES","GET_STORY","getToken","sessionStorage","getItem","token","login","loginInput","email","isAdmin","password","dispatch","fetch","method","headers","Accept","body","JSON","stringify","then","response","json","loginData","userId","type","t","payload","user","setItem","setUserSession","lastName","catch","err","alert","console","log","getStories","storyData","viewStory","id","createStory","storyInput","summary","description","complexity","time","cost","credentials","createHashHistory","withRouter","useState","setEmail","setPassword","setIsAdmin","usedispatch","useDispatch","loginStatus","useSelector","state","loginReducer","isLoggedIn","className","name","placeholder","onChange","e","target","value","disabled","onClick","preventDefault","userLogin","setTimeout","history","push","PrivateRoute","Component","component","rest","render","props","to","pathname","from","location","setSummary","setDescription","setType","setcomplexity","setTime","setCost","for","defaultValue","userCreateStory","currStories","storyReducer","stories","useEffect","admin","handleClick","viewStories","map","story","status","estimatedHrs","currStory","updateStatus","setStatus","App","userLogout","exact","path","Login","CreateStory","StoryList","Story","removeItem","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","data","rootReducer","combineReducers","action","persistConfig","key","storage","whitelist","pReducer","persistReducer","store","createStore","applyMiddleware","thunkMiddleware","logger","persistor","persistStore","ReactDOM","loading","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c1bc28a8.chunk.js","sourcesContent":["export const SET_LOGIN_STATE = \"SET_LOGIN_STATE\"\r\nexport const SET_ROLE_STATE = \"SET_ROLE_STATE\"\r\nexport const CREATE_STORY = \"CREATE_STORY\"\r\nexport const ADD_STORY = \"ADD_STORY\"\r\nexport const LOGOUT = \"LOGOUT\"\r\nexport const GET_STORIES = \"GET_STORIES\"\r\nexport const GET_STORY = \"GET_STORY\"","import { useState } from 'react'\r\n\r\n// return the user data from the session storage\r\nexport const getUser = () => {\r\n    const userStr = sessionStorage.getItem('user');\r\n    if (userStr) return JSON.parse(userStr);\r\n    else return null;\r\n}\r\n   \r\n// return the token from the session storage\r\nexport const getToken = () => {\r\n    return sessionStorage.getItem('token') || null;\r\n}\r\n   \r\n// remove the token and user from the session storage\r\nexport const removeUserSession = () => {\r\n    sessionStorage.removeItem('token');\r\n    sessionStorage.removeItem('user');\r\n}\r\n   \r\n// set the token and user from the session storage\r\nexport const setUserSession = (token, user) => {\r\n    sessionStorage.setItem('token', token);\r\n    sessionStorage.setItem('user', JSON.stringify(user));\r\n}\r\n\r\n","import * as t from './actionTypes';\r\nimport { setUserSession } from '../utils/Common';\r\nimport { getToken } from '../utils/Common'\r\n\r\n\r\nconst token = getToken();\r\n\r\n// this is what our action should look like which dispatches the \"payload\" to reducer\r\nconst setLoginState = (loginData) => {\r\n  return {\r\n    type: t.SET_LOGIN_STATE,\r\n    payload: loginData, //{ ...json, userId: email }\r\n  };\r\n};\r\n\r\nconst setStoryState = (storyData) => {\r\n    return {\r\n      type: t.CREATE_STORY,\r\n      payload: storyData, //storyData is the object with summary, description, type, etc.\r\n    };\r\n};\r\n\r\nconst getStoryState = (storyData) => {\r\n  return {\r\n    type: t.GET_STORIES,\r\n    payload: storyData, //storyData is the object with summary, description, type, etc.\r\n  };\r\n};\r\n\r\nconst getSingleStoryState = (storyData) => {\r\n  return {\r\n    type: t.GET_STORY,\r\n    payload: storyData, //storyData is the object with summary, description, type, etc.\r\n  };\r\n};\r\n\r\nexport const login = (loginInput) => { //our login action\r\n    const { email, password, isAdmin } = loginInput;\r\n    return (dispatch) => {  // don't forget to use dispatch here!\r\n      return fetch('http://localhost:3000/api/v1/signin', {\r\n        method: 'POST',\r\n        headers: {  \r\n          Accept: 'application/json',\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(loginInput),\r\n      })\r\n        .then((response) => response.json()) //json will be the response body\r\n        .then((json) => {\r\n        // if (json.msg === 'success') { // response success checking logic could differ\r\n           // console.log(json)\r\n            dispatch(setLoginState({ ...json, userId: email, isAdmin: isAdmin })); // our action is called here with object as parameter, this is our payload\r\n            //we appended json object to our state\r\n            //   } else {\r\n        //     alert('Login Failed', 'Email or Password is incorrect');\r\n        //  }\r\n            setUserSession(json.token, json.lastName)\r\n        })\r\n        .catch((err) => {\r\n          alert('Login Failed', 'Some error occured, please retry');\r\n          console.log(err);\r\n        });\r\n    };\r\n};\r\n\r\nexport const getStories = () => {\r\n    return (dispatch) => {  // don't forget to use dispatch here!\r\n      return fetch('http://localhost:3000/api/v1/stories', {\r\n        method: 'GET',\r\n        headers: {  \r\n          Accept: 'application/json',\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n      })\r\n        .then((response) => response.json()) //json will be the response body\r\n        .then((json) => {\r\n        // if (json.msg === 'success') { // response success checking logic could differ\r\n            console.log(json)\r\n            dispatch(getStoryState( [...json ])); // our action is called here with object as parameter, this is our payload\r\n            //we appended json object to our state\r\n            //   } else {\r\n        //     alert('Login Failed', 'Email or Password is incorrect');\r\n        //  }\r\n        })\r\n        .catch((err) => {\r\n          alert('Get stories failed', 'Some error occured, please retry');\r\n          console.log(err);\r\n        });\r\n    };\r\n}\r\n\r\nexport const viewStory = id => {\r\n  return (dispatch) => {  // don't forget to use dispatch here!\r\n      return fetch(`http://localhost:3000/api/v1/stories/${id}`, {\r\n        method: 'GET',\r\n        headers: {  \r\n          Accept: 'application/json',\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n      })\r\n        .then((response) => response.json()) //json will be the response body\r\n        .then((json) => {\r\n        // if (json.msg === 'success') { // response success checking logic could differ\r\n            console.log(json)\r\n            \r\n            dispatch(getSingleStoryState( {...json } )); // our action is called here with object as parameter, this is our payload\r\n            //we appended json object to our state\r\n            //   } else {\r\n        //     alert('Login Failed', 'Email or Password is incorrect');\r\n        //  }\r\n        })\r\n        .catch((err) => {\r\n          alert('View stories failed', 'Some error occured, please retry');\r\n          console.log(err);\r\n        });\r\n    };\r\n}\r\n\r\nexport const roleChange = () => {\r\n    return {\r\n        type: t.SET_ROLE_STATE,\r\n        //payload: role\r\n      };\r\n}\r\n\r\nexport const logout = () => {\r\n  return {\r\n    type: t.LOGOUT,\r\n  };\r\n}\r\n\r\n\r\n\r\nexport const createStory = storyInput => {\r\n  console.log(token)\r\n    const { summary, description, type, complexity, time, cost } = storyInput;\r\n    return (dispatch) => {  // don't forget to use dispatch here!\r\n      return fetch('http://localhost:3000/api/v1/stories', {\r\n        method: 'POST',\r\n        headers: {  \r\n          credentials: 'include',\r\n          Accept: 'application/json',\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify(storyInput),\r\n      })\r\n        .then((response) => response.json()) //json will be the response body\r\n        .then((json) => {\r\n        // if (json.msg === 'success') { // response success checking logic could differ\r\n            console.log(json)\r\n            //dispatch(setStoryState( [...json ]));\r\n            dispatch(setStoryState({  // our action is called here with object as parameter, this is our payload\r\n                summary: summary,\r\n                description: description,\r\n                type: type,\r\n                complexity: complexity,\r\n                time: time,\r\n                cost: cost\r\n            })); // our action is called here\r\n        //   } else {\r\n        //     alert('Login Failed', 'Email or Password is incorrect');\r\n        //  }\r\n        })\r\n        .catch((err) => {\r\n          alert('Create story failed, please retry');\r\n          console.log(err);\r\n        });\r\n    };\r\n}\r\n\r\nexport const addStory = story => {\r\n    return {\r\n        type: t.ADD_STORY,\r\n        payload: story,\r\n    }\r\n}\r\n\r\nexport const setStatus = (id, status) => {\r\n  return (dispatch) => {  // don't forget to use dispatch here!\r\n      return fetch(`http://localhost:3000/api/v1/stories/${id}/${status}`, {\r\n        method: 'PUT',\r\n        headers: {  \r\n          credentials: 'include',\r\n          Accept: 'application/json',\r\n          'Content-Type': 'text/html',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n      })\r\n        .then((response) => response.json()) //json will be the response body\r\n        .then((json) => {\r\n        // if (json.msg === 'success') { // response success checking logic could differ\r\n            console.log(json)\r\n            \r\n         //   dispatch(getStoryState( {...json } )); // our action is called here with object as parameter, this is our payload\r\n            //we appended json object to our state\r\n            //   } else {\r\n        //     alert('Login Failed', 'Email or Password is incorrect');\r\n        //  }\r\n        })\r\n        .catch((err) => {\r\n          alert('Login Failed', 'Some error occured, please retry');\r\n          console.log(err);\r\n        });\r\n    };\r\n}\r\n","import { createHashHistory  } from 'history';\r\n\r\nexport default createHashHistory();","import React, { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { login, roleChange } from '../redux/actions' //OUR ACTIONS\r\nimport { useSelector } from 'react-redux'\r\nimport history from '../utils/history';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nconst Login = () => {\r\n\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [isAdmin, setIsAdmin] = useState(false);\r\n\r\n    const usedispatch = useDispatch();\r\n    const userLogin = (email, password, isAdmin) => usedispatch(login({'email': email, 'password': password, 'isAdmin': isAdmin }));\r\n\r\n    const loginStatus = useSelector((state)=> state.loginReducer.isLoggedIn)\r\n    console.log(loginStatus)\r\n    const handleRoleChange = e => {\r\n\r\n        setIsAdmin(true)\r\n        if(isAdmin)\r\n            setIsAdmin(false)\r\n        console.log(isAdmin)\r\n    }\r\n    \r\n    const handleEmailChange = e => {\r\n        setEmail(e.target.value)\r\n    }\r\n\r\n    const handlePasswordChange = e => {\r\n        setPassword(e.target.value)\r\n    }\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault();\r\n        userLogin(email, password, isAdmin)\r\n        setTimeout(()=> history.push(\"/user\"), 1000 );\r\n    }\r\n\r\n    const disabled = () => {\r\n        return email === \"\" || password === \"\"\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <form className='login-form'>\r\n                <input type='email' name='email' placeholder='Email' onChange={handleEmailChange}/>\r\n                <input type='password' name='password' placeholder='Password' onChange={handlePasswordChange}/>\r\n                <button type='submit' disabled={disabled()} onClick={handleSubmit}>Login</button>\r\n            </form>\r\n            <button onClick={handleRoleChange}>Switch to {isAdmin ? 'user' : 'admin'}</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Login);\r\n\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { getToken } from './Common';\r\nimport { useSelector } from 'react-redux'\r\n \r\n// handle the private routes\r\nfunction PrivateRoute({ component: Component, ...rest }) {\r\n\r\n  const getToken = useSelector((state)=> state.loginReducer.token)\r\n  console.log(getToken)\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) => getToken ? <Component {...props} /> : <Redirect to={{ pathname: '/Archimydes-frontend-challenge/', state: { from: props.location } }} />}\r\n    />\r\n  )\r\n}\r\n \r\nexport default PrivateRoute;\r\n\r\n//gettoken is not true on first attempt of login, it is true on second attempt","import React, { useState } from 'react'\r\nimport { createStory } from '../redux/actions'\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport history from '../utils/history';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nconst CreateStory = () => {\r\n\r\n    const [summary, setSummary] = useState(\"\");\r\n    const [description, setDescription] = useState(\"\");\r\n    const [type, setType] = useState(\"\");\r\n    const [complexity, setcomplexity] = useState(\"\");\r\n    const [time, setTime] = useState(\"\");\r\n    const [cost, setCost] = useState(0);\r\n\r\n    const usedispatch = useDispatch();\r\n    const userCreateStory = (summary, description, type, complexity) => usedispatch(createStory({\r\n                                                                                    'summary': summary,\r\n                                                                                    'description': description,\r\n                                                                                    'type': type,\r\n                                                                                    'complexity': complexity,\r\n                                                                                    'time': time,\r\n                                                                                    'cost': cost \r\n                                                                                }));\r\n\r\n    const handleSummaryChange = e => {\r\n        setSummary(e.target.value)\r\n    }  \r\n    \r\n    const handleDescriptionChange = e => {\r\n        setDescription(e.target.value)\r\n    }\r\n\r\n    const handleTypeChange = e => {\r\n        setType(e.target.value)\r\n    }\r\n\r\n    const handleComplexityChange = e => {\r\n        setcomplexity(e.target.value)\r\n    }\r\n\r\n    const handleTimeChange = e => {\r\n        setTime(e.target.value)\r\n    }\r\n\r\n    const handleCostChange = e => {\r\n        setCost(e.target.value)\r\n    }\r\n\r\n   // const currStory = useSelector((state)=> state.storyReducer.story)\r\n    const handleSubmit = e => {\r\n        e.preventDefault();\r\n        userCreateStory(summary,description,type,complexity,time,cost)\r\n        setTimeout(()=> history.push(\"/userStories\"), 1000 );\r\n      //setTimeout(()=> console.log(currStory) ,1000)\r\n    }\r\n\r\n    \r\n    \r\n    return (\r\n        <div>\r\n            <form className='create-story-form'>\r\n                <label for=\"summary\">Summary:</label>\r\n                <input name=\"summary\" type='text' onChange={handleSummaryChange}/>\r\n                <label for=\"desc\">Description:</label>\r\n                <textarea name=\"desc\" type='text' onChange={handleDescriptionChange}/>\r\n                <label for=\"type\">Type:</label>\r\n                <select name=\"type\" onChange={handleTypeChange}>\r\n                    <option value=\"enhancement\" defaultValue>Enchancement</option>\r\n                    <option value=\"bugfix\">Bugfix</option>\r\n                    <option value=\"development\">Development</option>\r\n                    <option value=\"qa\">QA</option>\r\n                </select>\r\n                <label for=\"complexity\">Complexity:</label>\r\n                <select name=\"complexity\" onChange={handleComplexityChange}>\r\n                    <option value=\"low\" defaultValue>Low</option>\r\n                    <option value=\"mid\">Mid</option>\r\n                    <option value=\"high\">High</option>\r\n                </select>\r\n                <label for=\"time\">Estimated time for completion:</label>\r\n                <input name=\"time\" type='text' onChange={handleTimeChange}/>\r\n                <label for=\"cost\">Cost:</label>\r\n                <input name=\"cost\" type='number' onChange={handleCostChange}/>\r\n                <button onClick={handleSubmit}>Submit</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(CreateStory);","import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { addStory } from '../redux/actions'\r\nimport { getStories, viewStory } from '../redux/actions' //OUR ACTIONS\r\nimport history from '../utils/history';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nconst StoryList = () => {\r\n\r\n\r\n    const currStories = useSelector((state)=> state.storyReducer.stories)\r\n    const usedispatch = useDispatch();\r\n    const userStories = () => usedispatch(getStories());\r\n    const viewStories = (id) => usedispatch(viewStory(id));\r\n    // let story = {}\r\n      useEffect(() => {\r\n        userStories()\r\n\r\n     }, []);\r\n     console.log('test')\r\n     console.log(currStories)\r\n\r\n\r\n    const admin = useSelector((state)=> state.loginReducer.isAdmin)\r\n  \r\n    const handleClick = id => {\r\n        \r\n        console.log('test')\r\n        if(admin) {//admin click on story to view using get request with id, use {story.id} in this file\r\n            viewStories(id)\r\n            setTimeout(()=> history.push(\"/userStory\"), 1000 )\r\n        }\r\n    }\r\n\r\n    const backgroundColor = status => {\r\n        if(status === 'accepted') {\r\n            return 'bg-green'\r\n        }\r\n        else if(status === 'rejected') {\r\n            return 'bg-red'\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            \r\n            <section>\r\n                <header>\r\n                    \r\n                        <div className='col'><strong>Summary</strong></div>\r\n                        <div className='col'><strong>Description</strong></div>\r\n                        <div className='col'><strong>Type</strong></div>\r\n                        <div className='col'><strong>Complexity</strong></div>\r\n                        <div className='col'><strong>Time</strong></div>\r\n                        <div className='col'><strong>Cost</strong></div>\r\n                   \r\n                </header>\r\n                \r\n                {currStories.map(story => {\r\n                return (\r\n                    <div key={story.id} className={`row bg-black text-white ${backgroundColor(story.status)}`} onClick={()=>handleClick(story.id)}>\r\n                        <div className='col'>{story.summary}</div>\r\n                        <div className='col'>{story.description}</div>\r\n                        <div className='col'>{story.type}</div>\r\n                        <div className='col'>{story.complexity}</div>\r\n                        <div className='col'>{story.estimatedHrs}</div>\r\n                        <div className='col'>{story.cost}</div>\r\n                    </div>   \r\n                    \r\n                )\r\n            })}\r\n            </section>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default withRouter(StoryList);\r\n","import React from 'react'\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setStatus } from '../redux/actions' //OUR ACTIONS\r\nimport history from '../utils/history';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nconst Story = () => {\r\n\r\n    const currStory = useSelector((state)=> state.storyReducer.story)\r\n    const usedispatch = useDispatch();\r\n    const updateStatus = (id, status) => usedispatch(setStatus(id, status));\r\n\r\n    const handleClick = (id, status) => {\r\n        updateStatus(id, status)\r\n        setTimeout(()=> history.push(\"/userStories\"), 1000 )\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <section>\r\n            <header>\r\n                <div className='col'><strong>Summary</strong></div>\r\n                <div className='col'><strong>Description</strong></div>\r\n                <div className='col'><strong>Type</strong></div>\r\n                <div className='col'><strong>Complexity</strong></div>\r\n                <div className='col'><strong>Time</strong></div>\r\n                <div className='col'><strong>Cost</strong></div>\r\n                <div className='col'><strong>Status</strong></div>\r\n            </header>\r\n            <div className='row'>\r\n                <div className='col'>{currStory.summary}</div>\r\n                <div className='col'>{currStory.description}</div>\r\n                <div className='col'>{currStory.type}</div>\r\n                <div className='col'>{currStory.complexity}</div>\r\n                <div className='col'>{currStory.estimatedHrs}</div>\r\n                <div className='col'>{currStory.cost}</div>\r\n                <div className='col'>{currStory.status}</div>\r\n            </div>\r\n            \r\n        </section>\r\n        <div className='btns'>\r\n            <button className='btn btn-accept' onClick={()=> handleClick(currStory.id,\"accepted\")}>Accept</button>\r\n            <button className='btn btn-reject' onClick={()=> handleClick(currStory.id,\"rejected\")}>Reject</button>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default withRouter(Story)\r\n\r\n\r\n\r\n\r\n","import './App.scss';\nimport Login from './components/Login';\nimport { Router, Switch, Route, NavLink, HashRouter } from 'react-router-dom';\nimport PrivateRoute from './utils/PrivateRoute';\nimport CreateStory from './components/CreateStory';\nimport history from './utils/history';\nimport StoryList from './components/StoryList';\nimport { Link } from 'react-router-dom';\nimport { useDispatch } from \"react-redux\";\nimport { logout } from './redux/actions' //OUR ACTIONS\nimport Story from './components/Story'\nimport { removeUserSession } from './utils/Common'\n\nfunction App() {\n\n  const usedispatch = useDispatch();\n  const userLogout = () => usedispatch(logout());\n  const handleLogout = () => {\n    userLogout()\n    removeUserSession()\n  }\n\n  return (\n    <div className=\"App\">\n\n      <Router history={history}>\n        <Switch>\n          <Route exact path=\"/\" component={Login} />\n          <PrivateRoute path=\"/user\" component={CreateStory}/>\n          <PrivateRoute path=\"/userStories\" component={StoryList}/>\n          <PrivateRoute path=\"/userStory\" component={Story}/>\n        </Switch>\n        <Link to=\"/\" onClick={handleLogout}>Logout</Link>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { getToken } from '../utils/Common'\r\n\r\nexport const initialState = {\r\n    isLoggedIn: false,\r\n    userId: '',\r\n    isAdmin: false,\r\n    token: getToken(),\r\n    data: '',\r\n    stories: [{\r\n        complexity: \"\",\r\n        cost: 0,\r\n        description: \"\",\r\n        summary: \"\",\r\n        time: \"\",\r\n        type: \"\"\r\n    }],\r\n    story: {}\r\n  };","import { createStore, combineReducers, applyMiddleware } from 'redux';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { loginReducer, storyReducer } from './reducers';\r\nimport logger from 'redux-logger'\r\nimport { persistStore, persistReducer } from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\n\r\nconst rootReducer = combineReducers({\r\n    loginReducer: loginReducer,\r\n    storyReducer: storyReducer\r\n  });\r\n\r\nconst persistConfig = {\r\n    key: 'data',\r\n    storage: storage,\r\n    whitelist: ['loginReducer', 'storyReducer'] // which reducer want to store\r\n  };\r\n  const pReducer = persistReducer(persistConfig, rootReducer); \r\n\r\nconst store = createStore(\r\n    pReducer,\r\n    applyMiddleware(\r\n        thunkMiddleware,\r\n        logger\r\n    )\r\n);\r\n\r\nconst persistor = persistStore(store);\r\n\r\nexport { persistor, store }","import { initialState } from './initialState';\r\nimport * as t from './actionTypes';\r\n\r\nexport const loginReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case t.SET_ROLE_STATE:\r\n      return {\r\n        ...state,\r\n        isAdmin: true\r\n      };\r\n    case t.SET_LOGIN_STATE:\r\n      return {\r\n        ...state,\r\n        ...action.payload, // this is what we expect to get back from API call and login page input\r\n        isLoggedIn: true, // we set this as true on login\r\n      };\r\n    case t.LOGOUT: \r\n      return {\r\n        initialState\r\n      };\r\n    default:\r\n      return state;\r\n  } \r\n};\r\n\r\nexport const storyReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case t.CREATE_STORY:\r\n      return {\r\n        ...state,\r\n        stories: [...state.stories, action.payload],\r\n      };\r\n    case t.GET_STORIES:\r\n      return {\r\n        ...state,\r\n        stories: action.payload,\r\n      };\r\n    case t.GET_STORY:\r\n      return {\r\n        ...state,\r\n        story: action.payload,\r\n      };\r\n    // case t.ADD_STORY:\r\n    //   return {\r\n    //     ...state,\r\n    //     stories: [...state.stories, action.payload], //stories is an object\r\n    //   };\r\n    case t.LOGOUT:\r\n      return {\r\n        stories: [{complexity: \"\",\r\n        cost: 0,\r\n        description: \"\",\r\n        summary: \"\",\r\n        time: \"\",\r\n        type: \"\"}]\r\n      };\r\n    default:\r\n      return state;\r\n  } \r\n}\r\n\r\n// export const roleReducer = (state = initialState, action) => {\r\n//   switch (action.type) {\r\n//     case t.SET_ROLE_STATE:\r\n//       return {\r\n//         ...state,\r\n//         role: action.payload,\r\n//       };\r\n//     default:\r\n//       return state;\r\n//   } \r\n// }","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from 'react-redux';\nimport { persistor, store } from './redux/store'\nimport { PersistGate } from 'redux-persist/lib/integration/react';\n\n{/* <PersistGate loading={null} persistor={persistor}>\n      <React.StrictMode>\n        <App />\n      </React.StrictMode>\n    </PersistGate> */}\n\nReactDOM.render(\n  <Provider store={store}>\n    <PersistGate loading={null} persistor={persistor}>\n      <React.StrictMode>\n        <App />\n      </React.StrictMode>\n    </PersistGate>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}